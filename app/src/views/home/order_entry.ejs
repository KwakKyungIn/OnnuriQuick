<!DOCTYPE html>
<html>

<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />

  <title>OnnuriQuick</title>

  <!-- slider stylesheet -->
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.1.3/assets/owl.carousel.min.css" />

  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="views/home/css/bootstrap.css" />

  <!-- fonts style -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Poppins:400,700&display=swap" rel="stylesheet">
  <!-- Custom styles for this template -->
  <link href="views/home/css/style.css" rel="stylesheet" />
  <!-- responsive style -->
  <link href="views/home/css/responsive.css" rel="stylesheet" />
</head>

<body class="sub_page">
  <div class="hero_area">
    <!-- header section strats -->
    <header class="header_section">
      <div class="container-fluid">
        <nav class="navbar navbar-expand-lg custom_nav-container">
          <a class="navbar-brand" href="home">
            <img src="views/home/images/logo.png" alt="" />
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav  ">
              <li class="nav-item ">
                 <a class="nav-link" href="home">홈 <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item active">
                <a class="nav-link" href="order_entry">주문 입력</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="order_list">주문 리스트 </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="customer_list">고객 리스트</a>
              </li>
            </ul>
            <div class="user_option">
              <% if (session.user) { %>
                <!-- 로그아웃 버튼 -->
                <a href="#" onclick="confirmLogout()">
                  <img src="views/home/images/user.png" alt="">
                  <span>
                    Logout
                  </span>
                </a>
              <% } else { %>
                <!-- 로그인 버튼 -->
                <a href="/login">
                  <img src="views/home/images/user.png" alt="">
                  <span>
                    Login
                  </span>
                </a>
              <% } %>
              <!-- <form class="form-inline my-2 my-lg-0 ml-0 ml-lg-4 mb-3 mb-lg-0">
                <button class="btn my-2 my-sm-0 nav_search-btn" type="submit"></button>
              </form> -->
            </div>
            
            <script>
              function confirmLogout() {
                if (confirm('정말 로그아웃 하시겠습니까?')) {
                  // 사용자가 확인을 눌렀을 경우 로그아웃 페이지로 이동
                  window.location.href = "/logout";
                }
              }
            </script>

          </div>
          <div>
            <div class="custom_menu-btn ">
              <!-- <button>
                <span class=" s-1">

                </span>
                <span class="s-2">

                </span>
                <span class="s-3">

                </span>
              </button> -->
            </div>
          </div>

        </nav>
      </div>
    </header>
    <!-- end header section -->
  </div>


  <!-- 주요 화면 섹션 -->

  <section class="about_section layout_padding">
    <div class="container">
        <div class="row d-flex">
            <!-- 주문 입력 섹션 -->
            <div class="col-md-6 order-section">
                <div class="detail-box">
                    <div class="heading_container">
                        <h2>주문 입력</h2>
                    </div>
                    <!-- 수령인 정보 -->
                    <p>수령인 정보</p>
                    <input id="customer_name" name="customer_info" placeholder="수령인 입력" type="text" />
                    <input id="phone_number" name="phone_number" placeholder="휴대폰 번호 입력" type="text" />

                    <!-- 주소 검색 -->
                    <p>주소 검색</p>
                    <input type="button" onclick="sample6_execDaumPostcode()" value="우편번호 찾기"><br>
                    <input type="text" id="sample6_postcode" placeholder="우편번호">
                    <div>
                        <input  type="text" id="sample6_address" placeholder="주소"><br>
                        
                        <input  type="text" id="sample6_extraAddress" placeholder="추가주소(자동입력됨)">
                        
                    </div>
                    <input type="text" id="sample6_detailAddress" placeholder="상세주소">
                    <!-- 배달 요청 -->
                    <div style="padding: 10px; text-align: left;">
                        <label for="email">배달 요청</label> <input id="request" name="customer_info" placeholder="요청사항" type="text" />
                      </div>

                        
                  

                    <!-- 공동현관 -->
                     <div>
                    <p>공동현관</p>
                    <select name="option" id="option">
                        <option value="nowbaedal">경비실 호출</option>
                        <option value="etc">현관 비밀번호</option>
                        <option value="etc">없음</option>
                    </select>
                    <input id="entrance_password" name="entrance_password" placeholder="비밀번호 입력" type="text" />
                    </div>
                    
                    <div>
                      <p>결제 옵션</p>
                      <input type="checkbox" id="card_misu" name="card_misu" />
                      <label for="card_misu">카드 미수</label>
                    </div>



                    <!-- 특이사항 -->
                    <div>
                        <p>특이사항</p>
                        <input id="special_notes" name="customer_info" placeholder="특이사항 입력" type="text" />
                    </div>

                    <button id="takeBtn" type="button">접수</button>
                </div>
            </div>

            <!-- 고객 선택 섹션 -->
          <!-- 고객 선택 섹션 -->
<div class="col-md-6 customer-section">
  <div class="detail-box">
    <div class="heading_container">
      <h2>고객 선택</h2>
    </div>
    <label for="customer_list">고객 선택:</label>
    <!-- 검색 입력 필드 추가 -->
    <input type="text" id="customer_search" placeholder="이름 또는 번호로 검색" onkeyup="filterCustomers()" />
    <div class="scrollable-list fixed-height" style="overflow-y: scroll;">
      <!-- 고객 리스트가 스크롤 가능한 형태 -->
      <ul id="customer_list" class="list-group">
        <% if (customers.length > 0) { %>
          <% customers.forEach(customer => { %>
          <li class="list-group-item"
              onclick="selectCustomer('<%= customer.name %>', '<%= customer.phone_number %>', '<%= customer.zipcode %>', '<%= customer.address %>', '<%= customer.extra_address %>', '<%= customer.detail_address %>')">
            <%= customer.name %> (<%= customer.phone_number %>)
          </li>
          <% }); %>
        <% } else { %>
          <!-- 고객이 없을 때 표시할 메시지 -->
          <li class="list-group-item" style="text-align: center;">
            고객이 존재하지 않습니다
          </li>
        <% } %>
      </ul>
    </div>
  </div>
</div>



      </div>
    </div>
  </section>


  <!-- end about section -->

  <script>
    function filterCustomers() {
      // 검색어 가져오기
      const searchValue = document.getElementById('customer_search').value.toLowerCase();
      
      // 고객 리스트의 모든 항목 가져오기
      const customerItems = document.querySelectorAll('#customer_list .list-group-item');
  
      customerItems.forEach(item => {
        // 고객 이름과 전화번호 텍스트 가져오기
        const customerName = item.textContent.toLowerCase();
        
        // 검색어가 포함되어 있는지 여부를 체크
        if (customerName.includes(searchValue)) {
          item.style.display = "";  // 검색어가 포함되면 보이도록 설정
        } else {
          item.style.display = "none";  // 포함되지 않으면 숨김 처리
        }
      });
    }
  </script>
  
   <script>
   function selectCustomer(name, phone, zipcode, address, extraAddress, detailAddress) {
    document.getElementById('customer_name').value = name;
    document.getElementById('phone_number').value = phone;
    document.getElementById('sample6_postcode').value = zipcode;
    document.getElementById('sample6_address').value = address;
    document.getElementById('sample6_extraAddress').value = extraAddress;
    document.getElementById('sample6_detailAddress').value = detailAddress;
}
    </script>


  <!-- info section -->
  <section class="info_section layout_padding2">
    <div class="container">
      <div class="info_logo">
        <h2>
          Onnuri Quick
        </h2>
      </div>
      <div class="row">

        <div class="col-md-3">
          <div class="info_contact">
            <h5>
              About Shop
            </h5>
            <div>
              <div class="img-box">
                <img src="views/home/images/location-white.png" width="18px" alt="">
              </div>
              <p>
                회사 주소
              </p>
            </div>
            <div>
              <div class="img-box">
                <img src="views/home/images/telephone-white.png" width="12px" alt="">
              </div>
              <p>
                회사 번호
              </p>
            </div>
            <div>
              <div class="img-box">
                <img src="views/home/images/envelope-white.png" width="18px" alt="">
              </div>
              <p>
                회사 이메일
              </p>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="info_info">
            <h5>
              Informations
            </h5>
            <p>
              여기에 기본적인 회사 정보가 들어갈 예정
          </div>
        </div>

        
        
      </div>
    </div>
  </section>

                
  <!-- end info_section -->


  <!-- footer section -->
  <section class="container-fluid footer_section ">
    <div class="container">
      <p>
        &copy; 2019 All Rights Reserved By
        <a href="https://html.design/">Free Html Templates</a>
      </p>
    </div>
  </section>
  <!-- end  footer section -->


  <script type="text/javascript" src="js/home/jquery-3.4.1.min.js"></script>
  <script type="text/javascript" src="js/home/bootstrap.js"></script>
  <script type="text/javascript" src="js/home/address.js"></script>
  <script src = "js/home/order_entry.js" defer ></script>
  <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.2.1/owl.carousel.min.js">
  </script>
  <script type="text/javascript">
    $(".owl-carousel").owlCarousel({
      loop: true,
      margin: 10,
      nav: true,
      navText: [],
      autoplay: true,
      autoplayHoverPause: true,
      responsive: {
        0: {
          items: 1
        },
        420: {
          items: 2
        },
        1000: {
          items: 5
        }
      }

    });
  </script>
  <script>
    var nav = $("#navbarSupportedContent");
    var btn = $(".custom_menu-btn");
    btn.click
    btn.click(function (e) {

      e.preventDefault();
      nav.toggleClass("lg_nav-toggle");
      document.querySelector(".custom_menu-btn").classList.toggle("menu_btn-style")
    });
  </script>
  <script>
    $('.carousel').on('slid.bs.carousel', function () {
      $(".indicator-2 li").removeClass("active");
      indicators = $(".carousel-indicators li.active").data("slide-to");
      a = $(".indicator-2").find("[data-slide-to='" + indicators + "']").addClass("active");
      console.log(indicators);

    })
  </script>

</body>
</body>

</html>